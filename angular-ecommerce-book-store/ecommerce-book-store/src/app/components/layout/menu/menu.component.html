<div class="container-fluid">
<div class="row align-items-center py-3 px-xl-5">
    <div class="col-lg-3 d-none d-lg-block" style="padding-left: 0 !important;">
        <a routerLink="/home" class="text-decoration-none">
            <h1 class="m-0 display-5 font-weight-semi-bold"><span class="text-primary font-weight-bold border px-3 mr-1">E</span>Book</h1>
        </a>
    </div>
    <!-- Search bar -->
    <div class="col-lg-6 col-6 text-left">
        <app-search></app-search>
    </div>
    <div class="col-lg-3 col-6 text-right" style="padding-right: 0 !important;" *ngIf="isUser">
        <app-cart-status></app-cart-status>
    </div>
</div>
</div>

<div class="container-fluid mb-5 " style="max-height: 65px;">
    <div class="row border-top px-xl-5">
        <div class="col-lg-3 d-none d-lg-block" style="padding-left: 0 !important; z-index: 25;">
            <a class="btn shadow-none d-flex align-items-center justify-content-between bg-primary text-white w-100" (click)="showNavBarVertical()" style="height: 65px; margin-top: -1px; padding: 0 30px;">
                <div class="flex">
                    <fa-icon [icon]="faBars"></fa-icon>
                <h6 class="m-0 text-white">Categories</h6>
                </div>
                <fa-icon [icon]="faAngleDown"></fa-icon>
            </a>
            <nav class="collapse  navbar navbar-vertical navbar-light align-items-start p-0 border border-categories border-top-0 border-bottom-0" #navbarVertical>
                <div class="navbar-nav w-100 overflow-hidden" style="min-height: 205px" >
                    <ng-container *ngFor="let category of categories"> 
                        <a routerLink="/category/{{category.id}}" routerLinkActive="active-link" class="nav-item nav-link dropdown-category-item">{{category.categoryName}}</a>
                    </ng-container>
                </div>
            </nav>
        </div>
        <div class="col-lg-9">
            <nav class="navbar navbar-expand-lg bg-light navbar-light py-3 py-lg-0 px-0">
                <a href="" class="text-decoration-none d-block d-lg-none">
                    <h1 class="m-0 display-5 font-weight-semi-bold"><span class="text-primary font-weight-bold border px-3 mr-1">E</span>Shopper</h1>
                </a>
                <button type="button" class="navbar-toggler" (click)="showNavBarCollapse()">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-between" #navbarCollapse style="padding-right: 0 !important;">
                    <div class="navbar-nav mr-auto py-0">
                        <a  routerLink="/home" routerLinkActive="active" class="nav-item nav-link ">Home</a>
                        <a  routerLink="/products" routerLinkActive="active" class="nav-item nav-link">Products</a>
                        <a  routerLink="/contact" routerLinkActive="active" class="nav-item nav-link" *ngIf="!isManager">Contact</a>
                        <a  routerLink="/about-us" routerLinkActive="active" class="nav-item nav-link">About</a>
                        <a  routerLink="/order-history" routerLinkActive="active" class="nav-item nav-link" *ngIf="user">Orders</a>
                        <a  routerLink="/users" routerLinkActive="active" class="nav-item nav-link" *ngIf="isManager">Users</a>
                    </div>
                    <div class="navbar-nav ml-auto py-0" >
                        <a class="nav-item nav-link login" *ngIf="!user" (click)="login()"><fa-icon [icon]="faUser" class="text-primary"></fa-icon>Login</a>
                        <a class="nav-item nav-link login" *ngIf="!user" routerLink="/register" style="padding-right: 0 !important;"><fa-icon [icon]="faUserPlus" class="text-primary "></fa-icon>Register</a>
                     <div *ngIf="user" style="display: flex; align-items: center; gap: 5px; font-size: 18px !important; cursor: pointer;" (click)="viewDetails()"><span>Welcome,<b>{{user}}</b></span><fa-icon [icon]="faUser" class="text-primary"></fa-icon>  </div>   <a class="nav-item nav-link login" *ngIf="user" (click)="logout()">Logout</a>
                    </div>
                </div>
            </nav>
    </div>
</div>
